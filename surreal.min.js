var F=function(){let x={$:this,plugins:[],sugar(j){if(!x.isNode(j)&&!x.isNodeList(j))return console.warn(`Surreal: Not a supported element / node / node list "${j}"`),j;if(x.isNodeList(j))j.forEach((q)=>{x.sugar(q)});if(j.hasOwnProperty("hasSurreal"))return j;return j.run=(q)=>{return x.run(j,q)},j.remove=()=>{return x.remove(j)},j.classAdd=(q)=>{return x.classAdd(j,q)},j.class_add=j.add_class=j.addClass=j.classAdd,j.classRemove=(q)=>{return x.classRemove(j,q)},j.class_remove=j.remove_class=j.removeClass=j.classRemove,j.classToggle=(q,z)=>{return x.classToggle(j,q,z)},j.class_toggle=j.toggle_class=j.toggleClass=j.classToggle,j.styles=(q)=>{return x.styles(j,q)},j.on=(q,z)=>{return x.on(j,q,z)},j.off=(q,z)=>{return x.off(j,q,z)},j.offAll=(q)=>{return x.offAll(j,q)},j.off_all=j.offAll,j.disable=()=>{return x.disable(j)},j.enable=()=>{return x.enable(j)},j.send=(q,z)=>{return x.send(j,q,z)},j.trigger=j.send,j.halt=(q,z,A)=>{return x.halt(q,z,A)},j.attribute=(q,z)=>{return x.attribute(j,q,z)},j.attributes=j.attr=j.attribute,x.plugins.forEach(function(q){q(j)}),j.hasSurreal=1,j},me(j=null,q=document,z=!0){if(j==null)return x.sugar(q.currentScript.parentElement);if(j instanceof Event)return j.currentTarget?x.me(j.currentTarget):(console.warn("Surreal: Event currentTarget is null. Please save your element because async will lose it"),null);if(j==="-"||j==="prev"||j==="previous")return x.sugar(q.currentScript.previousElementSibling);if(x.isSelector(j,q,z))return x.sugar(q.querySelector(j));if(x.isNodeList(j))return x.me(j[0]);if(x.isNode(j))return x.sugar(j);return null},any(j,q=document,z=!0){if(j==null)return x.sugar([q.currentScript.parentElement]);if(j instanceof Event)return j.currentTarget?x.any(j.currentTarget):(console.warn("Surreal: Event currentTarget is null. Please save your element because async will lose it"),null);if(j==="-"||j==="prev"||j==="previous")return x.sugar([q.currentScript.previousElementSibling]);if(x.isSelector(j,q,z))return x.sugar(Array.from(q.querySelectorAll(j)));if(x.isNode(j))return x.sugar([j]);if(x.isNodeList(j))return x.sugar(Array.from(j));return x.sugar([])},run(j,q){if(typeof q!=="function")return console.warn("Surreal: run(f) f must be a function"),j;if(x.isNodeList(j))j.forEach((z)=>{x.run(z,q)});if(x.isNode(j))q(j);return j},remove(j){if(x.isNodeList(j))j.forEach((q)=>{x.remove(q)});if(x.isNode(j))j.parentNode.removeChild(j);return},classAdd(j,q){if(typeof q!=="string")return j;if(q.charAt(0)===".")q=q.substring(1);if(x.isNodeList(j))j.forEach((z)=>{x.classAdd(z,q)});if(x.isNode(j))j.classList.add(q);return j},classRemove(j,q){if(typeof q!=="string")return j;if(q.charAt(0)===".")q=q.substring(1);if(x.isNodeList(j))j.forEach((z)=>{x.classRemove(z,q)});if(x.isNode(j))j.classList.remove(q);return j},classToggle(j,q,z){if(typeof q!=="string")return j;if(q.charAt(0)===".")q=q.substring(1);if(x.isNodeList(j))j.forEach((A)=>{x.classToggle(A,q,z)});if(x.isNode(j))j.classList.toggle(q,z);return j},styles(j,q){if(typeof q==="string"){if(x.isNodeList(j))j.forEach((z)=>{x.styles(z,q)});if(x.isNode(j))x.attribute(j,"style",(x.attribute(j,"style")==null?"":x.attribute(j,"style")+"; ")+q);return j}if(typeof q==="object"){if(x.isNodeList(j))j.forEach((z)=>{x.styles(z,q)});if(x.isNode(j))Object.assign(j.style,q);return j}return j},on(j,q,z){if(x.isNodeList(j))j.forEach((A)=>{x.on(A,q,z)});if(x.isNode(j))j.addEventListener(q,z);return j},off(j,q,z){if(x.isNodeList(j))j.forEach((A)=>{x.off(A,q,z)});if(x.isNode(j))j.removeEventListener(q,z);return j},offAll(j){if(x.isNodeList(j))j.forEach((q)=>{x.offAll(q)});if(x.isNode(j))j.parentNode.replaceChild(j.cloneNode(!0),j);return j},disable(j){if(x.isNodeList(j))j.forEach((q)=>{x.disable(q)});if(x.isNode(j))j.disabled=!0;return j},enable(j){if(x.isNodeList(j))j.forEach((q)=>{x.enable(q)});if(x.isNode(j))j.disabled=!1;return j},send(j,q,z=null){if(x.isNodeList(j))j.forEach((A)=>{x.send(A,q,z)});if(x.isNode(j)){let A=new CustomEvent(q,{detail:z,bubbles:!0});j.dispatchEvent(A)}return j},halt(j,q=!1,z=!1){if(j instanceof Event){if(!z)j.preventDefault();if(!q)j.stopPropagation()}return j},attribute(j,q,z=void 0){if(typeof q==="string"&&z===void 0){if(x.isNodeList(j))return[];if(x.isNode(j))return j.getAttribute(q);return null}if(typeof q==="string"&&z===null){if(x.isNodeList(j))j.forEach((A)=>{x.attribute(A,q,z)});if(x.isNode(j))j.removeAttribute(q);return j}if(typeof q==="string"){if(x.isNodeList(j))j.forEach((A)=>{x.attribute(A,q,z)});if(x.isNode(j))j.setAttribute(q,z);return j}if(typeof q==="object"){if(x.isNodeList(j))j.forEach((A)=>{Object.entries(q).forEach(([C,H])=>{x.attribute(A,C,H)})});if(x.isNode(j))Object.entries(q).forEach(([A,C])=>{x.attribute(j,A,C)});return j}return j},globalsAdd(){console.log("Surreal: Adding convenience globals to window.");let j=["$","sugar","plugins"];for(let[q,z]of Object.entries(this)){if(!j.includes(q))window[q]===void 0?window[q]=z:console.warn(`Surreal: "${q}()" already exists on window. Skipping to prevent overwrite.`);if(!j.includes(q))window.document[q]===void 0?window.document[q]=z:console.warn(`Surreal: "${q}()" already exists on document. Skipping to prevent overwrite.`)}},isNode(j){return j instanceof HTMLElement||j instanceof SVGElement||j instanceof Document?!0:!1},isNodeList(j){return j instanceof NodeList||Array.isArray(j)?!0:!1},isSelector(j="",q=document,z=!0){if(typeof j!=="string")return!1;if(q.querySelector(j)==null){if(z)console.log(`Surreal: "${j}" not found, ignoring.`);return!1}return!0}};return x.globalsAdd(),console.log("Surreal: Loaded."),x}();function M(x){function j(z,A=void 0,C=1000,H=!0){let G=z;if(F.isNodeList(z))z.forEach((L)=>{j(L,A,C)});if(F.isNode(z))(async()=>{if(F.styles(z,{transform:"scale(1)",transition:`all ${C}ms ease-out`,overflow:"hidden"}),await J(),F.styles(z,{transform:"scale(0.9)",opacity:"0"}),await K(C,z),typeof A==="function")A(G);if(H)F.remove(G)})()}function q(z,A=void 0,C=1000){let H=z;if(F.isNodeList(z))z.forEach((G)=>{q(G,A,C)});if(F.isNode(z))(async()=>{let G=z.style;if(F.styles(z,{transition:`all ${C}ms ease-in`,overflow:"hidden"}),await J(),F.styles(z,{opacity:"1"}),await K(C,z),z.style=G,F.styles(z,{opacity:"1"}),typeof A==="function")A(H)})()}x.fadeOut=(z,A,C)=>{return j(x,z,A,C)},x.fade_out=x.fadeOut,x.fadeIn=(z,A)=>{return q(x,z,A)},x.fade_in=x.fadeIn}F.plugins.push(M);console.log("Surreal: Added plugins.");var N=document.createElement.bind(document);async function J(){return await new Promise((x)=>{requestAnimationFrame(x)})}async function K(x,j){return await new Promise((q)=>setTimeout(()=>{q(j)},x))}console.log("Surreal: Added shortcuts.");
